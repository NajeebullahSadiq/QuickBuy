{"ast":null,"code":"import _toConsumableArray from \"E:\\\\FullStack QuickBuy\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"E:\\\\FullStack QuickBuy\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"E:\\\\FullStack QuickBuy\\\\frontend\\\\src\\\\Components\\\\Kids\\\\BoysClothing\\\\BoyShirts\\\\BoysTShirtsProductScreen.js\";\nimport React from \"react\";\nimport \"../../../Screens/ProductScreen.css\";\nimport Rating from \"../../../Rating/Rating.js\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useEffect, useState } from \"react\";\nimport { detailsBoyTShirtsScreen } from \"../../../../Actions/ProductActions\";\nimport LoadingBox from \"../../../LoadingBox\";\nimport MessageBox from \"../../../MessageBox\";\nimport { PRODUCT_REVIEW_CREATE_RESET } from \"../../../../Constants/ProductConstants\";\nexport default function BoyTShirtsProductScreen(props) {\n  var _this = this;\n\n  var dispatch = useDispatch();\n  var productId = props.match.params.id;\n\n  var _useState = useState(1),\n      _useState2 = _slicedToArray(_useState, 2),\n      qty = _useState2[0],\n      setQty = _useState2[1];\n\n  var productDetails = useSelector(function (state) {\n    return state.productDetails;\n  });\n  var loading = productDetails.loading,\n      error = productDetails.error,\n      product = productDetails.product;\n  var userSignin = useSelector(function (state) {\n    return state.userSignin;\n  });\n  var userInfo = userSignin.userInfo;\n  var productReviewCreate = useSelector(function (state) {\n    return state.productReviewCreate;\n  });\n  var loadingReviewCreate = productReviewCreate.loading,\n      errorReviewCreate = productReviewCreate.error,\n      successReviewCreate = productReviewCreate.success;\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      rating = _useState4[0],\n      setRating = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      comment = _useState6[0],\n      setComment = _useState6[1];\n\n  useEffect(function () {\n    if (successReviewCreate) {\n      window.alert(\"Review Submitted Successfully\");\n      setRating(\"\");\n      setComment(\"\");\n      dispatch({\n        type: PRODUCT_REVIEW_CREATE_RESET\n      });\n    }\n\n    dispatch(detailsBoyTShirtsScreen(productId));\n  }, [dispatch, productId, successReviewCreate]);\n\n  var addToCartHandler = function addToCartHandler() {\n    props.history.push(\"/Cart/\".concat(productId, \"?qty=\").concat(qty));\n  };\n\n  var submitHandler = function submitHandler(e) {\n    e.preventDefault();\n\n    if (comment && rating) {\n      dispatch(createReview(productId, {\n        rating: rating,\n        comment: comment,\n        name: userInfo.name\n      }));\n    } else {\n      alert(\"Please enter comment and rating\");\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }\n  }, loading ? /*#__PURE__*/React.createElement(LoadingBox, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }) : error ? /*#__PURE__*/React.createElement(MessageBox, {\n    variant: \"danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, error) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"r top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"c1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"large\",\n    src: product.image,\n    alt: product.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"c1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 19\n    }\n  }, product.name)), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Rating, {\n    rating: product.rating,\n    numReviews: product.numReviews,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"Rs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }, \"Rs. \", product.price), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  }, \"Description:\", /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 19\n    }\n  }, product.description)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"c1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"r\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pr\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 23\n    }\n  }, \"Price\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 23\n    }\n  }, \"Rs. \", product.price))), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"r\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"status\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 23\n    }\n  }, \"Status\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 23\n    }\n  }, product.countInStock > 0 ? /*#__PURE__*/React.createElement(\"span\", {\n    className: \"success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 27\n    }\n  }, \" In Stock \") : /*#__PURE__*/React.createElement(\"span\", {\n    className: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 27\n    }\n  }, \"Unavailable\")))), product.countInStock > 0 && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"qty\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 27\n    }\n  }, \"Qty\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"qtyAmount\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    value: qty,\n    onChange: function onChange(e) {\n      return setQty(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 29\n    }\n  }, _toConsumableArray(Array(product.countInStock).keys()).map(function (x) {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: x + 1,\n      value: x + 1,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 35\n      }\n    }, x + 1);\n  })))), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: addToCartHandler,\n    id: \"bt\",\n    className: \" block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 25\n    }\n  }, \"Add to Cart\")))))))));\n}","map":{"version":3,"sources":["E:/FullStack QuickBuy/frontend/src/Components/Kids/BoysClothing/BoyShirts/BoysTShirtsProductScreen.js"],"names":["React","Rating","useDispatch","useSelector","useEffect","useState","detailsBoyTShirtsScreen","LoadingBox","MessageBox","PRODUCT_REVIEW_CREATE_RESET","BoyTShirtsProductScreen","props","dispatch","productId","match","params","id","qty","setQty","productDetails","state","loading","error","product","userSignin","userInfo","productReviewCreate","loadingReviewCreate","errorReviewCreate","successReviewCreate","success","rating","setRating","comment","setComment","window","alert","type","addToCartHandler","history","push","submitHandler","e","preventDefault","createReview","name","image","numReviews","price","description","countInStock","target","value","Array","keys","map","x"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport \"../../../Screens/ProductScreen.css\";\r\nimport Rating from \"../../../Rating/Rating.js\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { detailsBoyTShirtsScreen } from \"../../../../Actions/ProductActions\";\r\nimport LoadingBox from \"../../../LoadingBox\";\r\nimport MessageBox from \"../../../MessageBox\";\r\nimport { PRODUCT_REVIEW_CREATE_RESET } from \"../../../../Constants/ProductConstants\";\r\nexport default function BoyTShirtsProductScreen(props) {\r\n  const dispatch = useDispatch();\r\n  const productId = props.match.params.id;\r\n  const [qty, setQty] = useState(1);\r\n  const productDetails = useSelector((state) => state.productDetails);\r\n  const { loading, error, product } = productDetails;\r\n  const userSignin = useSelector((state) => state.userSignin);\r\n  const { userInfo } = userSignin;\r\n\r\n  const productReviewCreate = useSelector((state) => state.productReviewCreate);\r\n  const {\r\n    loading: loadingReviewCreate,\r\n    error: errorReviewCreate,\r\n    success: successReviewCreate,\r\n  } = productReviewCreate;\r\n\r\n  const [rating, setRating] = useState(0);\r\n  const [comment, setComment] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    if (successReviewCreate) {\r\n      window.alert(\"Review Submitted Successfully\");\r\n      setRating(\"\");\r\n      setComment(\"\");\r\n      dispatch({ type: PRODUCT_REVIEW_CREATE_RESET });\r\n    }\r\n    dispatch(detailsBoyTShirtsScreen(productId));\r\n  }, [dispatch, productId, successReviewCreate]);\r\n  const addToCartHandler = () => {\r\n    props.history.push(`/Cart/${productId}?qty=${qty}`);\r\n  };\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    if (comment && rating) {\r\n      dispatch(\r\n        createReview(productId, { rating, comment, name: userInfo.name })\r\n      );\r\n    } else {\r\n      alert(\"Please enter comment and rating\");\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      {loading ? (\r\n        <LoadingBox></LoadingBox>\r\n      ) : error ? (\r\n        <MessageBox variant=\"danger\">{error}</MessageBox>\r\n      ) : (\r\n        <div>\r\n          <div className=\"r top\">\r\n            <div className=\"c1\">\r\n              <img className=\"large\" src={product.image} alt={product.name} />\r\n            </div>\r\n            <div className=\"c1\">\r\n              <ul>\r\n                <li>\r\n                  <h1>{product.name}</h1>\r\n                </li>\r\n                <li>\r\n                  <Rating\r\n                    rating={product.rating}\r\n                    numReviews={product.numReviews}\r\n                  ></Rating>\r\n                </li>\r\n                <li className=\"Rs\">Rs. {product.price}</li>\r\n                <li className=\"description\">\r\n                  Description:\r\n                  <p>{product.description}</p>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n            <div className=\"c1\">\r\n              <div className=\"card card-body\">\r\n                <ul>\r\n                  <li>\r\n                    <div className=\"r\">\r\n                      <div className=\"pr\">Price</div>\r\n                      <div className=\"price\">Rs. {product.price}</div>\r\n                    </div>\r\n                  </li>\r\n                  <li>\r\n                    <div className=\"r\">\r\n                      <div className=\"status\">Status</div>\r\n                      <div>\r\n                        {product.countInStock > 0 ? (\r\n                          <span className=\"success\"> In Stock </span>\r\n                        ) : (\r\n                          <span className=\"error\">Unavailable</span>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </li>\r\n                  {product.countInStock > 0 && (\r\n                    <>\r\n                      <li>\r\n                        <div className=\"row\">\r\n                          <div class=\"qty\">Qty</div>\r\n                          <div className=\"qtyAmount\">\r\n                            <select\r\n                              value={qty}\r\n                              onChange={(e) => setQty(e.target.value)}\r\n                            >\r\n                              {[...Array(product.countInStock).keys()].map(\r\n                                (x) => (\r\n                                  <option key={x + 1} value={x + 1}>\r\n                                    {x + 1}\r\n                                  </option>\r\n                                )\r\n                              )}\r\n                            </select>\r\n                          </div>\r\n                        </div>\r\n                        <button\r\n                          onClick={addToCartHandler}\r\n                          id=\"bt\"\r\n                          className=\" block\"\r\n                        >\r\n                          Add to Cart\r\n                        </button>\r\n                      </li>\r\n                    </>\r\n                  )}\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}